(this.webpackJsonphack=this.webpackJsonphack||[]).push([[0],[,,,,,,,,,,,,,,function(e,t,a){e.exports=a(83)},function(e,t,a){},,,,,function(e,t,a){var r={"./BACK.svg":21,"./CLUB-1.svg":22,"./CLUB-10.svg":23,"./CLUB-11.svg":24,"./CLUB-12.svg":25,"./CLUB-13.svg":26,"./CLUB-2.svg":27,"./CLUB-3.svg":28,"./CLUB-4.svg":29,"./CLUB-5.svg":30,"./CLUB-6.svg":31,"./CLUB-7.svg":32,"./CLUB-8.svg":33,"./CLUB-9.svg":34,"./DIAMOND-1.svg":35,"./DIAMOND-10.svg":36,"./DIAMOND-11.svg":37,"./DIAMOND-12.svg":38,"./DIAMOND-13.svg":39,"./DIAMOND-2.svg":40,"./DIAMOND-3.svg":41,"./DIAMOND-4.svg":42,"./DIAMOND-5.svg":43,"./DIAMOND-6.svg":44,"./DIAMOND-7.svg":45,"./DIAMOND-8.svg":46,"./DIAMOND-9.svg":47,"./HEART-1.svg":48,"./HEART-10.svg":49,"./HEART-11.svg":50,"./HEART-12.svg":51,"./HEART-13.svg":52,"./HEART-2.svg":53,"./HEART-3.svg":54,"./HEART-4.svg":55,"./HEART-5.svg":56,"./HEART-6.svg":57,"./HEART-7.svg":58,"./HEART-8.svg":59,"./HEART-9.svg":60,"./JOKER-1.svg":61,"./JOKER-2.svg":62,"./JOKER-3.svg":63,"./SPADE-1.svg":64,"./SPADE-10.svg":65,"./SPADE-11.svg":66,"./SPADE-12.svg":67,"./SPADE-13.svg":68,"./SPADE-2.svg":69,"./SPADE-3.svg":70,"./SPADE-4.svg":71,"./SPADE-5.svg":72,"./SPADE-6.svg":73,"./SPADE-7.svg":74,"./SPADE-8.svg":75,"./SPADE-9.svg":76};function n(e){var t=s(e);return a(t)}function s(e){if(!a.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}n.keys=function(){return Object.keys(r)},n.resolve=s,e.exports=n,n.id=20},function(e,t,a){e.exports=a.p+"static/media/BACK.37ae6e1d.svg"},function(e,t,a){e.exports=a.p+"static/media/CLUB-1.89752b1f.svg"},function(e,t,a){e.exports=a.p+"static/media/CLUB-10.c58e8631.svg"},function(e,t,a){e.exports=a.p+"static/media/CLUB-11.7a4f08fb.svg"},function(e,t,a){e.exports=a.p+"static/media/CLUB-12.675e27cf.svg"},function(e,t,a){e.exports=a.p+"static/media/CLUB-13.a6da6e1a.svg"},function(e,t,a){e.exports=a.p+"static/media/CLUB-2.9ad04219.svg"},function(e,t,a){e.exports=a.p+"static/media/CLUB-3.a25e814f.svg"},function(e,t,a){e.exports=a.p+"static/media/CLUB-4.307bf888.svg"},function(e,t,a){e.exports=a.p+"static/media/CLUB-5.9d1bcb89.svg"},function(e,t,a){e.exports=a.p+"static/media/CLUB-6.7adfe130.svg"},function(e,t,a){e.exports=a.p+"static/media/CLUB-7.e6441825.svg"},function(e,t,a){e.exports=a.p+"static/media/CLUB-8.c1b5f762.svg"},function(e,t,a){e.exports=a.p+"static/media/CLUB-9.807f9089.svg"},function(e,t,a){e.exports=a.p+"static/media/DIAMOND-1.82ee238b.svg"},function(e,t,a){e.exports=a.p+"static/media/DIAMOND-10.b27c0bf7.svg"},function(e,t,a){e.exports=a.p+"static/media/DIAMOND-11.c35cf384.svg"},function(e,t,a){e.exports=a.p+"static/media/DIAMOND-12.3ec9d684.svg"},function(e,t,a){e.exports=a.p+"static/media/DIAMOND-13.0920b186.svg"},function(e,t,a){e.exports=a.p+"static/media/DIAMOND-2.e76af8e4.svg"},function(e,t,a){e.exports=a.p+"static/media/DIAMOND-3.68e0c649.svg"},function(e,t,a){e.exports=a.p+"static/media/DIAMOND-4.8f822329.svg"},function(e,t,a){e.exports=a.p+"static/media/DIAMOND-5.8ffdfbe3.svg"},function(e,t,a){e.exports=a.p+"static/media/DIAMOND-6.5bb3d1b0.svg"},function(e,t,a){e.exports=a.p+"static/media/DIAMOND-7.bbd5c8bb.svg"},function(e,t,a){e.exports=a.p+"static/media/DIAMOND-8.8beb80ba.svg"},function(e,t,a){e.exports=a.p+"static/media/DIAMOND-9.3bdad311.svg"},function(e,t,a){e.exports=a.p+"static/media/HEART-1.5ba0f68a.svg"},function(e,t,a){e.exports=a.p+"static/media/HEART-10.31f059d0.svg"},function(e,t,a){e.exports=a.p+"static/media/HEART-11.9e840beb.svg"},function(e,t,a){e.exports=a.p+"static/media/HEART-12.bc62bdbd.svg"},function(e,t,a){e.exports=a.p+"static/media/HEART-13.c3f04b0f.svg"},function(e,t,a){e.exports=a.p+"static/media/HEART-2.f48e3b6a.svg"},function(e,t,a){e.exports=a.p+"static/media/HEART-3.7f3861d7.svg"},function(e,t,a){e.exports=a.p+"static/media/HEART-4.0099d5ad.svg"},function(e,t,a){e.exports=a.p+"static/media/HEART-5.4643a747.svg"},function(e,t,a){e.exports=a.p+"static/media/HEART-6.5b341a0a.svg"},function(e,t,a){e.exports=a.p+"static/media/HEART-7.3fca07a5.svg"},function(e,t,a){e.exports=a.p+"static/media/HEART-8.7236bd85.svg"},function(e,t,a){e.exports=a.p+"static/media/HEART-9.145bcf15.svg"},function(e,t,a){e.exports=a.p+"static/media/JOKER-1.eae092cb.svg"},function(e,t,a){e.exports=a.p+"static/media/JOKER-2.1cd613c5.svg"},function(e,t,a){e.exports=a.p+"static/media/JOKER-3.d9096d96.svg"},function(e,t,a){e.exports=a.p+"static/media/SPADE-1.034e6aeb.svg"},function(e,t,a){e.exports=a.p+"static/media/SPADE-10.9cfe1818.svg"},function(e,t,a){e.exports=a.p+"static/media/SPADE-11.0896b561.svg"},function(e,t,a){e.exports=a.p+"static/media/SPADE-12.92da5548.svg"},function(e,t,a){e.exports=a.p+"static/media/SPADE-13.968421b8.svg"},function(e,t,a){e.exports=a.p+"static/media/SPADE-2.de672544.svg"},function(e,t,a){e.exports=a.p+"static/media/SPADE-3.94c24362.svg"},function(e,t,a){e.exports=a.p+"static/media/SPADE-4.35dbaed5.svg"},function(e,t,a){e.exports=a.p+"static/media/SPADE-5.68a4dde3.svg"},function(e,t,a){e.exports=a.p+"static/media/SPADE-6.c8b94ef8.svg"},function(e,t,a){e.exports=a.p+"static/media/SPADE-7.859ef0b5.svg"},function(e,t,a){e.exports=a.p+"static/media/SPADE-8.da4596aa.svg"},function(e,t,a){e.exports=a.p+"static/media/SPADE-9.a96ed1b5.svg"},,,,,,,function(e,t,a){"use strict";a.r(t);var r=a(1),n=a(2),s=a(4),c=a(3),i=(a(15),a(0)),o=a.n(i),d=a(6),u=a.n(d),p=a(7),f=["ace","2","3","4","5","6","7","8","9","10","jack","queen","king"],v=["club","diamond","heart","spade"],m=f.length,g=v.length,l=m*g,h=a(20);var D=function(){for(var e=[],t=0,a=v;t<a.length;t++)for(var r=a[t].toUpperCase(),n=1;n<=m;++n)e.push(h("./".concat(r,"-").concat(n,".svg")));return e}(),b=h("./JOKER-1.svg"),E=h("./BACK.svg"),A=function(){function e(t){if(Object(r.a)(this,e),!(Number.isInteger(t)&&t>=0))throw Error("".concat(t," is not a valid card ID"));this._id=t,Object.freeze(this)}return Object(n.a)(e,[{key:"copy",value:function(){return new e(this._id)}},{key:"name",value:function(){return this.isJoker?"".concat("joker","-").concat(this.jokerNumber):"".concat(this.suitName,"-").concat(this.rankName)}},{key:"svg",value:function(){return this.isJoker?b:D[this.withinDeckId]}},{key:"id",get:function(){return this._id}},{key:"deckId",get:function(){return Math.floor(this._id/100)}},{key:"withinDeckId",get:function(){return this._id%100}},{key:"jokerNumber",get:function(){return this.withinDeckId-m*g}},{key:"isJoker",get:function(){return this.jokerNumber>=0}},{key:"rankIndex",get:function(){return this.withinDeckId%m}},{key:"suitIndex",get:function(){return Math.floor(this.withinDeckId/m)}},{key:"rankName",get:function(){return f[this.rankIndex]}},{key:"suitName",get:function(){return v[this.suitIndex]}}],[{key:"backSvg",get:function(){return E}}]),e}();function k(e){if((e.isJoker?l+e.jokerNumber:e.rankIndex+e.suitIndex*m)+100*e.deckId!==e.id)throw Error("Problem with card id")}var C=function(){function e(){Object(r.a)(this,e),this._deckId=0,this._jokerNumber=0}return Object(n.a)(e,[{key:"deck",value:function(){for(var e=m*g,t=Array(e),a=0;a<e;++a){var r=a+this._deckId*e,n=new A(r);k(n),t[a]=n}return++this._deckId,this._jokerNumber=0,t}},{key:"joker",value:function(){var e=l+this._jokerNumber;++this._jokerNumber;var t=e+100*this._deckId,a=new A(t);return k(a),a}},{key:"decks",value:function(e){for(var t=[],a=0;a<e;++a)t.push.apply(t,Object(p.a)(this.deck()));return t}},{key:"jokers",value:function(e){for(var t=[],a=0;a<e;++a)t.push(this.joker());return t}}]),e}(),O=a(8),x=function(){function e(t){Object(r.a)(this,e),this._cards=t||[],this._props={showBacks:!1,accessTopCardOnly:!1,name:null},Object.seal(this)}return Object(n.a)(e,[{key:"name",value:function(e){return void 0!==e&&(this._props.name=e),this._props.name}},{key:"showBacks",value:function(e){return void 0!==e&&(this._props.showBacks=e),this._props.showBacks}},{key:"accessTopCardOnly",value:function(e){return void 0!==e&&(this._props.accessTopCardOnly=e),this._props.accessTopCardOnly}},{key:"add",value:function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];for(var r=0,n=t;r<n.length;r++){var s,c=n[r];if(Array.isArray(c))(s=this._cards).push.apply(s,Object(p.a)(c));else this._cards.push(c)}}},{key:"removeAt",value:function(e){return this._cards.splice(e,1)[0]}},{key:"addAt",value:function(e,t){if(!(t instanceof A))throw Error("Bad coreCard given to addAt ".concat(t));this._cards.splice(e,0,t)}},{key:"draw",value:function(t){return new e(this._cards.splice(0,t))}},{key:"get",value:function(t){return new e(this._cards.slice(0,t))}},{key:"shuffle",value:function(){for(var e=this._cards,t=e.length-1;t>0;t--){var a=Math.floor(Math.random()*(t+1)),r=[e[a],e[t]];e[t]=r[0],e[a]=r[1]}}},{key:"copy",value:function(){var t=new e(this._cards.map((function(e){return e.copy()})));return t._props=Object(O.a)({},this._props),t}},{key:"cards",get:function(){return this._cards}}]),e}(),y=a(5),S=function(e){Object(s.a)(a,e);var t=Object(c.a)(a);function a(){return Object(r.a)(this,a),t.apply(this,arguments)}return Object(n.a)(a,[{key:"render",value:function(){var e=Object(O.a)({},this.props),t=this.props,a=t.coreCard,r=t.showBack,n=t.innerRef;if(delete e.coreCard,delete e.coreCardSet,delete e.showBack,delete e.innerRef,delete e.isDragDisabled,!a instanceof A)throw Error('bad core card "'.concat(a,'" supplied to RenderCard'));var s=r?A.backSvg:a.svg(),c=r?"card back":a.name();return o.a.createElement("div",Object.assign({},e,{ref:n,className:"card"}),o.a.createElement("img",{width:"100%",height:"auto",src:s,alt:c}))}}]),a}(o.a.PureComponent),N=function(e){Object(s.a)(a,e);var t=Object(c.a)(a);function a(){return Object(r.a)(this,a),t.apply(this,arguments)}return Object(n.a)(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.coreCard,r=t.index,n=t.isDragDisabled;return o.a.createElement(y.b,{draggableId:a.id.toString(),index:r||0,isDragDisabled:n},(function(t){return o.a.createElement(S,Object.assign({},e.props,t.draggableProps,t.dragHandleProps,{innerRef:t.innerRef}))}))}}]),a}(o.a.PureComponent);function j(){return o.a.createElement("div",{className:"empty-card-set"})}function I(e){var t=e.coreCardSet;if(!(t instanceof x))throw Error("Bad core card set ".concat(t));return t.cards.map((function(e,a){return o.a.createElement(N,{coreCard:e,key:e.id,index:a,showBack:t.showBacks()})}))}function B(e){var t=e.coreCardSet,a=t.cards[0],r=t.cards[1];return o.a.createElement("div",{className:"card-set-no-spread"},o.a.createElement(I,Object.assign({},e,{coreCardSet:new x([a])})),o.a.createElement("div",{className:"card-set-no-spread-background"},r?o.a.createElement(S,Object.assign({},e,{coreCard:r})):o.a.createElement(j,e)))}function w(e){var t=e.coreCardSet;if(!t)throw Error("RenderCardSet required a CoreCardSet");return 0===t.cards.length?o.a.createElement(j,e):t.accessTopCardOnly?o.a.createElement(B,e):o.a.createElement(I,e)}var R=function(e){Object(s.a)(a,e);var t=Object(c.a)(a);function a(){return Object(r.a)(this,a),t.apply(this,arguments)}return Object(n.a)(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.coreCardSet,r=t.isDropDisabled,n=t.direction;return t.experimental?this.renderExperimental():o.a.createElement(y.c,{direction:n,droppableId:a.name(),isDropDisabled:r},(function(t){return o.a.createElement("div",{className:"card-set",ref:t.innerRef},o.a.createElement(w,e.props),t.placeholder)}))}},{key:"renderExperimental",value:function(){var e=this.props,t=e.id,a=e.coreCardSet,r=e.showBack,n=e.isDropDisabled,s=a.cards[0];function c(){return console.log("DraggingFromThis"),o.a.createElement(N,{coreCard:s,key:s.id,index:1,showBack:r})}var i=function(){return console.log("DraggingFromOther"),o.a.createElement(S,{coreCard:s,key:s.id,index:1,showBack:r})};return o.a.createElement(y.c,{droppableId:t,direction:"horizontal",isDropDisabled:n},(function(e,t){return o.a.createElement("div",{className:"card-set-experimental",ref:e.innerRef},t.draggingFromThisWith?o.a.createElement(c,null):o.a.createElement(i,null),o.a.createElement(c,null),e.placeholder)}))}}]),a}(o.a.Component);function _(e,t,a){if(!(a instanceof x))throw Error("parameter ".concat(a," is not a CoreCardSet"));return a.name(t),e[t]=a,a}function T(e){var t=e.coreCardSets;return console.log("CommonArea card sets",t),console.log("CommonArea card set names",t.map((function(e){return e.name()}))),console.log("CommonArea card set cards",t.map((function(e){return e.cards}))),o.a.createElement("div",{className:"common-area"},t.map((function(e,t){return o.a.createElement(R,{key:e.name(),coreCardSet:e,direction:"vertical"})})))}var M=function(e){Object(s.a)(a,e);var t=Object(c.a)(a);function a(e){var n;Object(r.a)(this,a),(n=t.call(this,e)).onBeforeCapture=function(e){},n.onBeforeDragStart=function(e){},n.onDragStart=function(e){},n.onDragUpdate=function(e){},n.onDragEnd=function(e){var t=e.source,a=e.destination;if(a){var r=t.droppableId,s=a.droppableId,c=n.state[r],i=n.state[s],o=c.copy(),d=i.copy(),u=o.removeAt(t.index);if(!u)throw Error("Cannot find card to move during drag");var p=d.accessTopCardOnly?0:a.index;d.addAt(p,u);var f={};f[r]=o,f[s]=d,n.inCommonArea(i)&&0===i.cards.length&&n.extendCommonArea(f),n.setState(f)}},n.state={},n._commonAreaCardSetsNames=[];var s=new C,c=new x(s.decks(1),s.jokers(2));return _(n.state,"player1",c.draw(6)),_(n.state,"player2",c.draw(6)).showBacks(!0),_(n.state,"available",c).accessTopCardOnly(!0),n}return Object(n.a)(a,[{key:"componentDidMount",value:function(){this.setState(this.extendCommonArea({}))}},{key:"extendCommonArea",value:function(e){var t="commonArea"+this._commonAreaCardSetsNames.length,a=_(e,t,new x);return a.accessTopCardOnly(!0),this._commonAreaCardSetsNames.push(t),console.log("extended common area",a.name(),a.cards),e}},{key:"inCommonArea",value:function(e){return this.commonAreaCardSets.includes(e)}},{key:"render",value:function(){return o.a.createElement(y.a,{onBeforeCapture:this.onBeforeCapture,onBeforeDragStart:this.onBeforeDragStart,onDragStart:this.onDragStart,onDragUpdate:this.onDragUpdate,onDragEnd:this.onDragEnd},o.a.createElement("div",{className:"game"},o.a.createElement(R,{coreCardSet:this.state.player1}),o.a.createElement(R,{coreCardSet:this.state.available}),o.a.createElement(T,{coreCardSets:this.commonAreaCardSets}),o.a.createElement(R,{coreCardSet:this.state.player2})))}},{key:"commonAreaCardSets",get:function(){var e=this;return this._commonAreaCardSetsNames.map((function(t){return e.state[t]}))}}]),a}(o.a.Component),U=function(e){Object(s.a)(a,e);var t=Object(c.a)(a);function a(e){var n;return Object(r.a)(this,a),n=t.call(this,e),console.log("App constructor"),n}return Object(n.a)(a,[{key:"render",value:function(){return o.a.createElement(o.a.StrictMode,null,o.a.createElement(M,null))}}]),a}(o.a.Component);u.a.render(o.a.createElement(U,null),document.getElementById("root"))}],[[14,1,2]]]);
//# sourceMappingURL=main.226eb700.chunk.js.map