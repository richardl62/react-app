{"version":3,"sources":["tools/svgs sync nonrecursive /.svg$","tools/svgs/BACK.svg","tools/svgs/CLUB-1.svg","tools/svgs/CLUB-10.svg","tools/svgs/CLUB-11.svg","tools/svgs/CLUB-12.svg","tools/svgs/CLUB-13.svg","tools/svgs/CLUB-2.svg","tools/svgs/CLUB-3.svg","tools/svgs/CLUB-4.svg","tools/svgs/CLUB-5.svg","tools/svgs/CLUB-6.svg","tools/svgs/CLUB-7.svg","tools/svgs/CLUB-8.svg","tools/svgs/CLUB-9.svg","tools/svgs/DIAMOND-1.svg","tools/svgs/DIAMOND-10.svg","tools/svgs/DIAMOND-11.svg","tools/svgs/DIAMOND-12.svg","tools/svgs/DIAMOND-13.svg","tools/svgs/DIAMOND-2.svg","tools/svgs/DIAMOND-3.svg","tools/svgs/DIAMOND-4.svg","tools/svgs/DIAMOND-5.svg","tools/svgs/DIAMOND-6.svg","tools/svgs/DIAMOND-7.svg","tools/svgs/DIAMOND-8.svg","tools/svgs/DIAMOND-9.svg","tools/svgs/HEART-1.svg","tools/svgs/HEART-10.svg","tools/svgs/HEART-11.svg","tools/svgs/HEART-12.svg","tools/svgs/HEART-13.svg","tools/svgs/HEART-2.svg","tools/svgs/HEART-3.svg","tools/svgs/HEART-4.svg","tools/svgs/HEART-5.svg","tools/svgs/HEART-6.svg","tools/svgs/HEART-7.svg","tools/svgs/HEART-8.svg","tools/svgs/HEART-9.svg","tools/svgs/JOKER-1.svg","tools/svgs/JOKER-2.svg","tools/svgs/JOKER-3.svg","tools/svgs/SPADE-1.svg","tools/svgs/SPADE-10.svg","tools/svgs/SPADE-11.svg","tools/svgs/SPADE-12.svg","tools/svgs/SPADE-13.svg","tools/svgs/SPADE-2.svg","tools/svgs/SPADE-3.svg","tools/svgs/SPADE-4.svg","tools/svgs/SPADE-5.svg","tools/svgs/SPADE-6.svg","tools/svgs/SPADE-7.svg","tools/svgs/SPADE-8.svg","tools/svgs/SPADE-9.svg","tools/core_card.jsx","tools/core_card_set.jsx","tools/card.jsx","tools/card_set.jsx","common_area.jsx","game.jsx","index.js"],"names":["map","webpackContext","req","id","webpackContextResolve","__webpack_require__","o","e","Error","code","keys","Object","resolve","module","exports","rankNames","suitNames","numRanks","length","numSuits","deckSizeWithoutJokers","cardSvgSet","require","cardSvgs","svgs","svgSuitName","toUpperCase","rankIndex","push","makeSvgArray","jokerSvg","cardBackSvg","CoreCard","Number","isInteger","this","_id","freeze","isJoker","jokerNumber","suitName","rankName","withinDeckId","Math","floor","suitIndex","sanityCheckCardId","cc","deckId","CoreCardGenerator","_deckId","_jokerNumber","deckSize","deck","Array","num","result","i","joker","CoreCardSet","cards","_cards","_props","showBacks","accessTopCardOnly","name","seal","val","undefined","toAdd","item","isArray","index","splice","coreCard","slice","array","j","random","cp","c","copy","CardSimple","propsForDiv","props","showBack","innerRef","coreCardSet","isDragDisabled","svg","backSvg","alt","ref","className","width","height","src","React","PureComponent","Card","draggableId","toString","provided","draggableProps","dragHandleProps","Empty","Spread","key","NoSpread","top","secondTop","Inner","CardSet","isDropDisabled","direction","experimental","renderExperimental","droppableId","placeholder","topCard","DraggingFromThis","console","log","DraggingFromOther","snapshot","draggingFromThisWith","Component","CommonArea","coreCommonArea","gameState","cardSetNames","includes","_addEmptyDeck","stateChange","lastSet","cardSet","state","addCoreCardSet","Game","onBeforeCapture","data","onBeforeDragStart","onDragStart","onDragUpdate","onDragEnd","source","destination","draggedFromId","draggedToId","oldDragFrom","oldDragTo","draggedFrom","draggedTo","dragged","removeAt","draggedToIndex","addAt","commonAreaStateChange","processDragStateChange","setState","gen","decks","jokers","draw","setInitialState","player1","available","player2","App","StrictMode","ReactDOM","render","document","getElementById"],"mappings":"qJAAA,IAAIA,EAAM,CACT,aAAc,GACd,eAAgB,GAChB,gBAAiB,GACjB,gBAAiB,GACjB,gBAAiB,GACjB,gBAAiB,GACjB,eAAgB,GAChB,eAAgB,GAChB,eAAgB,GAChB,eAAgB,GAChB,eAAgB,GAChB,eAAgB,GAChB,eAAgB,GAChB,eAAgB,GAChB,kBAAmB,GACnB,mBAAoB,GACpB,mBAAoB,GACpB,mBAAoB,GACpB,mBAAoB,GACpB,kBAAmB,GACnB,kBAAmB,GACnB,kBAAmB,GACnB,kBAAmB,GACnB,kBAAmB,GACnB,kBAAmB,GACnB,kBAAmB,GACnB,kBAAmB,GACnB,gBAAiB,GACjB,iBAAkB,GAClB,iBAAkB,GAClB,iBAAkB,GAClB,iBAAkB,GAClB,gBAAiB,GACjB,gBAAiB,GACjB,gBAAiB,GACjB,gBAAiB,GACjB,gBAAiB,GACjB,gBAAiB,GACjB,gBAAiB,GACjB,gBAAiB,GACjB,gBAAiB,GACjB,gBAAiB,GACjB,gBAAiB,GACjB,gBAAiB,GACjB,iBAAkB,GAClB,iBAAkB,GAClB,iBAAkB,GAClB,iBAAkB,GAClB,gBAAiB,GACjB,gBAAiB,GACjB,gBAAiB,GACjB,gBAAiB,GACjB,gBAAiB,GACjB,gBAAiB,GACjB,gBAAiB,GACjB,gBAAiB,IAIlB,SAASC,EAAeC,GACvB,IAAIC,EAAKC,EAAsBF,GAC/B,OAAOG,EAAoBF,GAE5B,SAASC,EAAsBF,GAC9B,IAAIG,EAAoBC,EAAEN,EAAKE,GAAM,CACpC,IAAIK,EAAI,IAAIC,MAAM,uBAAyBN,EAAM,KAEjD,MADAK,EAAEE,KAAO,mBACHF,EAEP,OAAOP,EAAIE,GAEZD,EAAeS,KAAO,WACrB,OAAOC,OAAOD,KAAKV,IAEpBC,EAAeW,QAAUR,EACzBS,EAAOC,QAAUb,EACjBA,EAAeE,GAAK,I,gBC7EpBU,EAAOC,QAAU,IAA0B,kC,gBCA3CD,EAAOC,QAAU,IAA0B,oC,gBCA3CD,EAAOC,QAAU,IAA0B,qC,gBCA3CD,EAAOC,QAAU,IAA0B,qC,gBCA3CD,EAAOC,QAAU,IAA0B,qC,gBCA3CD,EAAOC,QAAU,IAA0B,qC,gBCA3CD,EAAOC,QAAU,IAA0B,oC,gBCA3CD,EAAOC,QAAU,IAA0B,oC,gBCA3CD,EAAOC,QAAU,IAA0B,oC,gBCA3CD,EAAOC,QAAU,IAA0B,oC,gBCA3CD,EAAOC,QAAU,IAA0B,oC,gBCA3CD,EAAOC,QAAU,IAA0B,oC,gBCA3CD,EAAOC,QAAU,IAA0B,oC,gBCA3CD,EAAOC,QAAU,IAA0B,oC,gBCA3CD,EAAOC,QAAU,IAA0B,uC,gBCA3CD,EAAOC,QAAU,IAA0B,wC,gBCA3CD,EAAOC,QAAU,IAA0B,wC,gBCA3CD,EAAOC,QAAU,IAA0B,wC,gBCA3CD,EAAOC,QAAU,IAA0B,wC,gBCA3CD,EAAOC,QAAU,IAA0B,uC,gBCA3CD,EAAOC,QAAU,IAA0B,uC,gBCA3CD,EAAOC,QAAU,IAA0B,uC,gBCA3CD,EAAOC,QAAU,IAA0B,uC,gBCA3CD,EAAOC,QAAU,IAA0B,uC,gBCA3CD,EAAOC,QAAU,IAA0B,uC,gBCA3CD,EAAOC,QAAU,IAA0B,uC,gBCA3CD,EAAOC,QAAU,IAA0B,uC,gBCA3CD,EAAOC,QAAU,IAA0B,qC,gBCA3CD,EAAOC,QAAU,IAA0B,sC,gBCA3CD,EAAOC,QAAU,IAA0B,sC,gBCA3CD,EAAOC,QAAU,IAA0B,sC,gBCA3CD,EAAOC,QAAU,IAA0B,sC,gBCA3CD,EAAOC,QAAU,IAA0B,qC,gBCA3CD,EAAOC,QAAU,IAA0B,qC,gBCA3CD,EAAOC,QAAU,IAA0B,qC,gBCA3CD,EAAOC,QAAU,IAA0B,qC,gBCA3CD,EAAOC,QAAU,IAA0B,qC,gBCA3CD,EAAOC,QAAU,IAA0B,qC,gBCA3CD,EAAOC,QAAU,IAA0B,qC,gBCA3CD,EAAOC,QAAU,IAA0B,qC,gBCA3CD,EAAOC,QAAU,IAA0B,qC,gBCA3CD,EAAOC,QAAU,IAA0B,qC,gBCA3CD,EAAOC,QAAU,IAA0B,qC,gBCA3CD,EAAOC,QAAU,IAA0B,qC,gBCA3CD,EAAOC,QAAU,IAA0B,sC,gBCA3CD,EAAOC,QAAU,IAA0B,sC,gBCA3CD,EAAOC,QAAU,IAA0B,sC,gBCA3CD,EAAOC,QAAU,IAA0B,sC,gBCA3CD,EAAOC,QAAU,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","file":"static/js/main.b63046fd.chunk.js","sourcesContent":["var map = {\n\t\"./BACK.svg\": 24,\n\t\"./CLUB-1.svg\": 25,\n\t\"./CLUB-10.svg\": 26,\n\t\"./CLUB-11.svg\": 27,\n\t\"./CLUB-12.svg\": 28,\n\t\"./CLUB-13.svg\": 29,\n\t\"./CLUB-2.svg\": 30,\n\t\"./CLUB-3.svg\": 31,\n\t\"./CLUB-4.svg\": 32,\n\t\"./CLUB-5.svg\": 33,\n\t\"./CLUB-6.svg\": 34,\n\t\"./CLUB-7.svg\": 35,\n\t\"./CLUB-8.svg\": 36,\n\t\"./CLUB-9.svg\": 37,\n\t\"./DIAMOND-1.svg\": 38,\n\t\"./DIAMOND-10.svg\": 39,\n\t\"./DIAMOND-11.svg\": 40,\n\t\"./DIAMOND-12.svg\": 41,\n\t\"./DIAMOND-13.svg\": 42,\n\t\"./DIAMOND-2.svg\": 43,\n\t\"./DIAMOND-3.svg\": 44,\n\t\"./DIAMOND-4.svg\": 45,\n\t\"./DIAMOND-5.svg\": 46,\n\t\"./DIAMOND-6.svg\": 47,\n\t\"./DIAMOND-7.svg\": 48,\n\t\"./DIAMOND-8.svg\": 49,\n\t\"./DIAMOND-9.svg\": 50,\n\t\"./HEART-1.svg\": 51,\n\t\"./HEART-10.svg\": 52,\n\t\"./HEART-11.svg\": 53,\n\t\"./HEART-12.svg\": 54,\n\t\"./HEART-13.svg\": 55,\n\t\"./HEART-2.svg\": 56,\n\t\"./HEART-3.svg\": 57,\n\t\"./HEART-4.svg\": 58,\n\t\"./HEART-5.svg\": 59,\n\t\"./HEART-6.svg\": 60,\n\t\"./HEART-7.svg\": 61,\n\t\"./HEART-8.svg\": 62,\n\t\"./HEART-9.svg\": 63,\n\t\"./JOKER-1.svg\": 64,\n\t\"./JOKER-2.svg\": 65,\n\t\"./JOKER-3.svg\": 66,\n\t\"./SPADE-1.svg\": 67,\n\t\"./SPADE-10.svg\": 68,\n\t\"./SPADE-11.svg\": 69,\n\t\"./SPADE-12.svg\": 70,\n\t\"./SPADE-13.svg\": 71,\n\t\"./SPADE-2.svg\": 72,\n\t\"./SPADE-3.svg\": 73,\n\t\"./SPADE-4.svg\": 74,\n\t\"./SPADE-5.svg\": 75,\n\t\"./SPADE-6.svg\": 76,\n\t\"./SPADE-7.svg\": 77,\n\t\"./SPADE-8.svg\": 78,\n\t\"./SPADE-9.svg\": 79\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 23;","module.exports = __webpack_public_path__ + \"static/media/BACK.37ae6e1d.svg\";","module.exports = __webpack_public_path__ + \"static/media/CLUB-1.89752b1f.svg\";","module.exports = __webpack_public_path__ + \"static/media/CLUB-10.c58e8631.svg\";","module.exports = __webpack_public_path__ + \"static/media/CLUB-11.7a4f08fb.svg\";","module.exports = __webpack_public_path__ + \"static/media/CLUB-12.675e27cf.svg\";","module.exports = __webpack_public_path__ + \"static/media/CLUB-13.a6da6e1a.svg\";","module.exports = __webpack_public_path__ + \"static/media/CLUB-2.9ad04219.svg\";","module.exports = __webpack_public_path__ + \"static/media/CLUB-3.a25e814f.svg\";","module.exports = __webpack_public_path__ + \"static/media/CLUB-4.307bf888.svg\";","module.exports = __webpack_public_path__ + \"static/media/CLUB-5.9d1bcb89.svg\";","module.exports = __webpack_public_path__ + \"static/media/CLUB-6.7adfe130.svg\";","module.exports = __webpack_public_path__ + \"static/media/CLUB-7.e6441825.svg\";","module.exports = __webpack_public_path__ + \"static/media/CLUB-8.c1b5f762.svg\";","module.exports = __webpack_public_path__ + \"static/media/CLUB-9.807f9089.svg\";","module.exports = __webpack_public_path__ + \"static/media/DIAMOND-1.82ee238b.svg\";","module.exports = __webpack_public_path__ + \"static/media/DIAMOND-10.b27c0bf7.svg\";","module.exports = __webpack_public_path__ + \"static/media/DIAMOND-11.c35cf384.svg\";","module.exports = __webpack_public_path__ + \"static/media/DIAMOND-12.3ec9d684.svg\";","module.exports = __webpack_public_path__ + \"static/media/DIAMOND-13.0920b186.svg\";","module.exports = __webpack_public_path__ + \"static/media/DIAMOND-2.e76af8e4.svg\";","module.exports = __webpack_public_path__ + \"static/media/DIAMOND-3.68e0c649.svg\";","module.exports = __webpack_public_path__ + \"static/media/DIAMOND-4.8f822329.svg\";","module.exports = __webpack_public_path__ + \"static/media/DIAMOND-5.8ffdfbe3.svg\";","module.exports = __webpack_public_path__ + \"static/media/DIAMOND-6.5bb3d1b0.svg\";","module.exports = __webpack_public_path__ + \"static/media/DIAMOND-7.bbd5c8bb.svg\";","module.exports = __webpack_public_path__ + \"static/media/DIAMOND-8.8beb80ba.svg\";","module.exports = __webpack_public_path__ + \"static/media/DIAMOND-9.3bdad311.svg\";","module.exports = __webpack_public_path__ + \"static/media/HEART-1.5ba0f68a.svg\";","module.exports = __webpack_public_path__ + \"static/media/HEART-10.31f059d0.svg\";","module.exports = __webpack_public_path__ + \"static/media/HEART-11.9e840beb.svg\";","module.exports = __webpack_public_path__ + \"static/media/HEART-12.bc62bdbd.svg\";","module.exports = __webpack_public_path__ + \"static/media/HEART-13.c3f04b0f.svg\";","module.exports = __webpack_public_path__ + \"static/media/HEART-2.f48e3b6a.svg\";","module.exports = __webpack_public_path__ + \"static/media/HEART-3.7f3861d7.svg\";","module.exports = __webpack_public_path__ + \"static/media/HEART-4.0099d5ad.svg\";","module.exports = __webpack_public_path__ + \"static/media/HEART-5.4643a747.svg\";","module.exports = __webpack_public_path__ + \"static/media/HEART-6.5b341a0a.svg\";","module.exports = __webpack_public_path__ + \"static/media/HEART-7.3fca07a5.svg\";","module.exports = __webpack_public_path__ + \"static/media/HEART-8.7236bd85.svg\";","module.exports = __webpack_public_path__ + \"static/media/HEART-9.145bcf15.svg\";","module.exports = __webpack_public_path__ + \"static/media/JOKER-1.eae092cb.svg\";","module.exports = __webpack_public_path__ + \"static/media/JOKER-2.1cd613c5.svg\";","module.exports = __webpack_public_path__ + \"static/media/JOKER-3.d9096d96.svg\";","module.exports = __webpack_public_path__ + \"static/media/SPADE-1.034e6aeb.svg\";","module.exports = __webpack_public_path__ + \"static/media/SPADE-10.9cfe1818.svg\";","module.exports = __webpack_public_path__ + \"static/media/SPADE-11.0896b561.svg\";","module.exports = __webpack_public_path__ + \"static/media/SPADE-12.92da5548.svg\";","module.exports = __webpack_public_path__ + \"static/media/SPADE-13.968421b8.svg\";","module.exports = __webpack_public_path__ + \"static/media/SPADE-2.de672544.svg\";","module.exports = __webpack_public_path__ + \"static/media/SPADE-3.94c24362.svg\";","module.exports = __webpack_public_path__ + \"static/media/SPADE-4.35dbaed5.svg\";","module.exports = __webpack_public_path__ + \"static/media/SPADE-5.68a4dde3.svg\";","module.exports = __webpack_public_path__ + \"static/media/SPADE-6.c8b94ef8.svg\";","module.exports = __webpack_public_path__ + \"static/media/SPADE-7.859ef0b5.svg\";","module.exports = __webpack_public_path__ + \"static/media/SPADE-8.da4596aa.svg\";","module.exports = __webpack_public_path__ + \"static/media/SPADE-9.a96ed1b5.svg\";","// In array elements the 'real' name cone first.  The other elements are aliases.\r\nconst rankNames = ['ace', '2', '3', '4', '5', '6', '7', '8', '9', '10', 'jack', 'queen', 'king']\r\nconst suitNames = ['club', 'diamond', 'heart', 'spade'];\r\nconst jokerName = 'joker';\r\n\r\nconst numRanks = rankNames.length;\r\nconst numSuits = suitNames.length;\r\nconst deckSizeWithoutJokers = numRanks * numSuits;\r\n\r\nconst deckSize = 100; // allows for lot of jokers!\r\n\r\nconst cardSvgSet = require.context('./svgs', false, /\\.svg$/);\r\n\r\n// Make an array of svgs indexed by 'withinDeckId'\r\nfunction makeSvgArray() {\r\n    let svgs = [];\r\n    for (let suit of suitNames) {\r\n        const svgSuitName = suit.toUpperCase();\r\n        for (let rankIndex = 1; rankIndex <= numRanks; ++rankIndex) {\r\n            svgs.push(cardSvgSet(`./${svgSuitName}-${rankIndex}.svg`));\r\n        }\r\n    }\r\n\r\n    return svgs;\r\n}\r\n\r\nconst cardSvgs = makeSvgArray();\r\nconst jokerSvg = cardSvgSet('./JOKER-1.svg');\r\nconst cardBackSvg = cardSvgSet('./BACK.svg');\r\n\r\nclass CoreCard {\r\n    // Requires an id as generated by fullDeck() or makeJoker();\r\n    constructor(id) {\r\n        if(!(Number.isInteger(id) && id >= 0))\r\n        {\r\n            throw Error(`${id} is not a valid card ID`);\r\n        }\r\n\r\n        this._id = id;\r\n        Object.freeze(this); \r\n    }\r\n\r\n    copy() {\r\n        return new CoreCard(this._id);\r\n    }\r\n\r\n    get id() { return this._id; }\r\n\r\n    get deckId() { return Math.floor(this._id / deckSize); }\r\n\r\n    get withinDeckId() { return this._id % deckSize;}\r\n\r\n    get jokerNumber() { return this.withinDeckId - numRanks * numSuits;}\r\n\r\n    get isJoker() { return this.jokerNumber >= 0;}\r\n\r\n    get rankIndex() { return this.withinDeckId % numRanks;}\r\n\r\n    get suitIndex() { return Math.floor(this.withinDeckId / numRanks);}\r\n\r\n    get rankName() { return rankNames[this.rankIndex]; }\r\n\r\n    get suitName()  { return suitNames[this.suitIndex]; }\r\n\r\n    name() {\r\n        if (this.isJoker) {\r\n            return `${jokerName}-${this.jokerNumber}`;\r\n        } else {\r\n            return `${this.suitName}-${this.rankName}`;\r\n        }\r\n    }\r\n\r\n    svg() {\r\n        return this.isJoker ? jokerSvg : cardSvgs[this.withinDeckId];\r\n    }\r\n\r\n    static get backSvg() {\r\n        return cardBackSvg;\r\n    }\r\n}\r\n\r\n\r\nfunction sanityCheckCardId(cc) {  // cc -> coreCard\r\n\r\n    let withinDeckId;\r\n    if(cc.isJoker) {\r\n        withinDeckId = deckSizeWithoutJokers + cc.jokerNumber;\r\n    } else {\r\n        withinDeckId = cc.rankIndex + cc.suitIndex * numRanks; \r\n    }\r\n\r\n    const id = withinDeckId + cc.deckId * deckSize;\r\n\r\n    if(id !== cc.id) {\r\n        throw Error(`Problem with card id`)\r\n    }\r\n}\r\n\r\n// All cards generated by a CardGenerator will have unique IDs.\r\nclass CoreCardGenerator {\r\n    constructor() {\r\n      this._deckId = 0;\r\n      this._jokerNumber = 0;\r\n    }\r\n  \r\n    deck() {\r\n        const deckSize = numRanks * numSuits;\r\n\r\n        let deck = Array(deckSize);\r\n        for(let withinDeckId = 0; withinDeckId < deckSize; ++withinDeckId)\r\n        {\r\n            const id = withinDeckId + this._deckId * deckSize;\r\n            const cc = new CoreCard(id);\r\n\r\n            sanityCheckCardId(cc); // Temporary\r\n\r\n            deck[withinDeckId] = cc;\r\n        }\r\n\r\n        ++this._deckId;\r\n        this._jokerNumber = 0;\r\n\r\n        return deck;\r\n    }\r\n  \r\n    joker() {\r\n        const withinDeckId = deckSizeWithoutJokers + this._jokerNumber;\r\n        ++this._jokerNumber;\r\n\r\n        const id = withinDeckId + this._deckId * deckSize;\r\n        const cc = new CoreCard(id);\r\n        sanityCheckCardId(cc); // Temporary\r\n\r\n        return cc;\r\n    }\r\n\r\n    // Convenience functions\r\n    decks(num) {\r\n        let result = [];\r\n        for(let i = 0; i < num; ++i) {\r\n            result.push(...this.deck());\r\n        }\r\n\r\n        return result;\r\n    }\r\n\r\n    jokers(num) {\r\n        let result = [];\r\n        for(let i = 0; i < num; ++i) {\r\n            result.push(this.joker());\r\n        }\r\n\r\n        return result;\r\n    }\r\n  };\r\n\r\n\r\nexport { CoreCard, CoreCardGenerator };\r\n","import { CoreCard } from '../tools'; // For type checking\r\n\r\nclass CoreCardSet {\r\n    constructor(cards) {\r\n        this._cards = cards ? cards : [];\r\n        this._props = {\r\n            showBacks: false,\r\n            accessTopCardOnly: false,\r\n            name: null,\r\n        };\r\n\r\n\r\n        Object.seal(this);\r\n    }\r\n\r\n    get cards() {return this._cards;}\r\n\r\n    name(val) {\r\n        if(val !== undefined) {\r\n            this._props.name = val;\r\n        }\r\n        return this._props.name;\r\n    }\r\n\r\n    showBacks(val) {\r\n        if(val !== undefined) {\r\n            this._props.showBacks = val;\r\n        }\r\n        return this._props.showBacks;\r\n    }\r\n\r\n    accessTopCardOnly(val) {\r\n        if(val !== undefined) {\r\n            this._props.accessTopCardOnly = val;\r\n        }\r\n        return this._props.accessTopCardOnly;\r\n    }\r\n\r\n    add(...toAdd) {\r\n        for (let item of toAdd) {\r\n            if (Array.isArray(item)) {\r\n                this._cards.push(...item);\r\n            } else {\r\n                this._cards.push(item);\r\n            }\r\n        }\r\n    }\r\n\r\n    removeAt(index) {\r\n        return this._cards.splice(index, 1)[0];\r\n    }\r\n\r\n    addAt(index, coreCard) {\r\n        if(!(coreCard instanceof CoreCard) ) {\r\n            throw Error(`Bad coreCard given to addAt ${coreCard}`)\r\n        }\r\n        this._cards.splice(index, 0, coreCard);\r\n    }\r\n\r\n    draw(num) {\r\n        return new CoreCardSet(this._cards.splice(0, num));\r\n      }\r\n\r\n    get(num) {\r\n        return new CoreCardSet(this._cards.slice(0, num));\r\n    }\r\n\r\n    shuffle() {\r\n        // Copied from richardl62.github.io\\games\\lib\\tools\\tools.js\r\n        // Origianally From https://stackoverflow.com/questions/2450954/how-to-randomize-shuffle-a-javascript-array\r\n        let array = this._cards;\r\n\r\n        for (let i = array.length - 1; i > 0; i--) {\r\n            const j = Math.floor(Math.random() * (i + 1));\r\n            [array[i], array[j]] = [array[j], array[i]];\r\n        }\r\n    }\r\n\r\n    // Make an independent copy of this class\r\n    copy() {\r\n        let cp = new CoreCardSet(this._cards.map(c => c.copy()));\r\n        cp._props = {...this._props};\r\n\r\n        return cp;\r\n    }\r\n}\r\n\r\nexport { CoreCardSet }\r\n","import React from 'react';\r\nimport {CoreCard} from \"../tools\";\r\nimport {Draggable} from 'react-beautiful-dnd';\r\n\r\n// No support for dragging\r\nclass CardSimple extends React.PureComponent {\r\n\r\n  render() {\r\n    let propsForDiv = {...this.props};\r\n\r\n    const { coreCard, showBack, innerRef } = this.props;\r\n    delete propsForDiv.coreCard;\r\n    delete propsForDiv.coreCardSet;\r\n    delete propsForDiv.showBack;\r\n    delete propsForDiv.innerRef;\r\n    delete propsForDiv.isDragDisabled;\r\n\r\n    if (!coreCard instanceof CoreCard) {\r\n      throw Error(`bad core card \"${coreCard}\" supplied to Card`);\r\n    }\r\n\r\n    const svg = showBack ? CoreCard.backSvg : coreCard.svg();\r\n    const alt = showBack ? \"card back\" : coreCard.name();\r\n\r\n    return (\r\n      <div {...propsForDiv} ref={innerRef} className=\"card\">\r\n        <img width=\"100%\" height=\"auto\" src={svg} alt={alt} />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nclass Card extends React.PureComponent {\r\n\r\n  render() {\r\n    const {coreCard, index, isDragDisabled} = this.props;\r\n \r\n    return (\r\n      <Draggable\r\n        draggableId={coreCard.id.toString()}\r\n        index={index ? index : 0}\r\n        isDragDisabled={isDragDisabled}\r\n      >\r\n        {provided => (\r\n          <CardSimple\r\n            {...this.props}\r\n            {...provided.draggableProps}\r\n            {...provided.dragHandleProps}\r\n            innerRef={provided.innerRef}\r\n          />       \r\n        )}\r\n      </Draggable>\r\n    );\r\n  }\r\n}\r\n\r\nexport { Card, \r\n          CardSimple  // Experimental - may not be needed with isDragDisabled \r\n        };\r\n","import React from 'react';\r\nimport { Droppable} from 'react-beautiful-dnd';\r\nimport { Card, CardSimple } from './card';\r\nimport { CoreCardSet } from '../tools';\r\n\r\nfunction Empty() {\r\n    return <div className=\"empty-card-set\" />\r\n}\r\n\r\n\r\nfunction Spread(props) {\r\n    const { coreCardSet } = props;\r\n    if(!(coreCardSet instanceof CoreCardSet)) {\r\n        throw Error(`Bad core card set ${coreCardSet}`)\r\n    }\r\n\r\n    return coreCardSet.cards.map(\r\n        (coreCard,index) =>\r\n        <Card coreCard={coreCard} key={coreCard.id} index={index} \r\n            showBack={coreCardSet.showBacks()} />\r\n    );\r\n}\r\n\r\nfunction NoSpread(props) {\r\n\r\n    const { coreCardSet} = props;\r\n    const top = coreCardSet.cards[0];\r\n    const secondTop = coreCardSet.cards[1];\r\n\r\n    return <div className=\"card-set-no-spread\">\r\n        <Spread {...props} coreCardSet={new CoreCardSet([top])} />\r\n\r\n        <div className=\"card-set-no-spread-background\">\r\n            {secondTop ?\r\n                    <CardSimple {...props} coreCard={secondTop} />\r\n                    :\r\n                    <Empty {...props} />\r\n            }\r\n        </div>\r\n\r\n    </div>;\r\n}\r\n\r\nfunction Inner(props) {\r\n \r\n    const { coreCardSet } = props;\r\n\r\n    if(!coreCardSet) {\r\n        throw Error(`CardSet required a CoreCardSet`);\r\n    }\r\n    \r\n    if(coreCardSet.cards.length === 0) {\r\n        return <Empty {...props} />;\r\n    }\r\n\r\n    if(coreCardSet.accessTopCardOnly) {\r\n        return <NoSpread {...props} />\r\n    }\r\n\r\n    return <Spread {...props} />\r\n}\r\n\r\n\r\nclass CardSet extends React.Component {\r\n    \r\n    render() {\r\n        const { coreCardSet, isDropDisabled, direction, experimental} = this.props;\r\n\r\n        if(experimental) {\r\n             return this.renderExperimental();\r\n        }\r\n\r\n        return (\r\n\r\n            <Droppable\r\n                direction={direction}\r\n                droppableId={coreCardSet.name()}\r\n                isDropDisabled={isDropDisabled}\r\n\r\n            >\r\n                {provided => (\r\n                    <div className=\"card-set\"\r\n                        ref={provided.innerRef}\r\n                    >\r\n                        <Inner {...this.props} />\r\n                        {provided.placeholder}\r\n                    </div>\r\n                )}\r\n            </Droppable>\r\n        );\r\n    }\r\n\r\n    renderExperimental() {\r\n        const { id, coreCardSet, showBack, isDropDisabled} = this.props;\r\n        const topCard = coreCardSet.cards[0];\r\n        \r\n        function DraggingFromThis() {\r\n            console.log('DraggingFromThis');\r\n            return <Card coreCard={topCard} key={topCard.id} index={1} showBack={showBack} />\r\n        };\r\n\r\n        const DraggingFromOther = () => {\r\n            console.log('DraggingFromOther');\r\n            return <CardSimple coreCard={topCard} key={topCard.id} index={1} showBack={showBack} />\r\n        }\r\n        return (\r\n            <Droppable\r\n                droppableId={id}\r\n                direction=\"horizontal\"\r\n                isDropDisabled={isDropDisabled}\r\n            >\r\n                {(provided, snapshot) => (\r\n                    <div className=\"card-set-experimental\"\r\n                        ref={provided.innerRef}\r\n                    >\r\n                        {snapshot.draggingFromThisWith ?\r\n                            <DraggingFromThis /> :\r\n                            <DraggingFromOther />}\r\n                            <DraggingFromThis></DraggingFromThis>\r\n                        {provided.placeholder}\r\n                    </div>\r\n                )}\r\n            </Droppable>\r\n        );\r\n    }\r\n}\r\n\r\nexport { CardSet };\r\n","import React from 'react';\r\nimport { CardSet, CoreCardSet } from './tools';\r\n\r\nclass CoreCommonArea {\r\n    constructor() {\r\n        this.cardSetNames = [];\r\n    }\r\n\r\n    includes(name) {\r\n        return this.cardSetNames.includes(name);\r\n    }\r\n\r\n    setInitialState() {\r\n        return this._addEmptyDeck()\r\n    }\r\n\r\n    processDragStateChange(stateChange) {\r\n\r\n        const [lastSet] = this.cardSetNames.slice(-1);\r\n\r\n        if(stateChange[lastSet] && stateChange[lastSet].cards.length > 0) {\r\n            return this._addEmptyDeck();\r\n        }\r\n\r\n        return {};\r\n    }\r\n\r\n    _addEmptyDeck() {\r\n        const name = \"commonArea\" + this.cardSetNames.length;\r\n\r\n        let cardSet = new CoreCardSet();\r\n        cardSet.name(name);\r\n        cardSet.accessTopCardOnly(true);\r\n\r\n        this.cardSetNames.push(name);\r\n\r\n        //console.log(\"extended common area\", cardSet.name(), cardSet.cards)\r\n\r\n        let state = {};\r\n        state[name] = cardSet;\r\n\r\n        return state;\r\n    }\r\n\r\n};\r\n\r\nfunction CommonArea(props) {\r\n    const { coreCommonArea, gameState } = props;\r\n    // console.log(\"CommonArea card sets\", coreCardSets);\r\n    // console.log(\"CommonArea card set names\", coreCardSets.map(set => set.name()));\r\n    // console.log(\"CommonArea card set cards\", coreCardSets.map(set => set.cards));\r\n\r\n\r\n    return (\r\n        <div className=\"common-area\">\r\n            {coreCommonArea.cardSetNames.map(name =>    \r\n                <CardSet key={name} coreCardSet={gameState[name]} direction=\"vertical\" />\r\n            )}\r\n        </div>\r\n    );\r\n}\r\n\r\nexport { CommonArea, CoreCommonArea };\r\n","import React from 'react';\r\nimport { CardSet, CoreCardGenerator, CoreCardSet } from './tools';\r\nimport { DragDropContext } from 'react-beautiful-dnd';\r\nimport { CommonArea, CoreCommonArea } from './common_area';\r\n\r\nlet coreCommonArea = new CoreCommonArea();\r\n\r\nfunction addCoreCardSet(state, name, coreCardSet) {\r\n    if (!(coreCardSet instanceof CoreCardSet)) {\r\n        throw Error(`parameter ${coreCardSet} is not a CoreCardSet`);\r\n    }\r\n    coreCardSet.name(name);\r\n    state[name] = coreCardSet;\r\n\r\n    return coreCardSet;\r\n}\r\n\r\nclass Game extends React.Component {\r\n\r\n    constructor(props) {\r\n\r\n        super(props);\r\n\r\n\r\n        let gen =  new CoreCardGenerator();\r\n        let cards = new CoreCardSet(gen.decks(1), gen.jokers(2));\r\n    \r\n        this.state = {};\r\n        addCoreCardSet(this.state, \"player1\", cards.draw(6));\r\n        addCoreCardSet(this.state, \"player2\", cards.draw(6)).showBacks(true);\r\n        addCoreCardSet(this.state, \"available\", cards).accessTopCardOnly(true);\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.setState(coreCommonArea.setInitialState());\r\n    }\r\n\r\n\r\n\r\n    onBeforeCapture = data => {\r\n        //console.log('onBeforeCapture', data);\r\n    };\r\n\r\n    onBeforeDragStart = data => {\r\n        // console.log('onBeforeDragStart', data);\r\n    };\r\n\r\n    onDragStart = data => {\r\n        // console.log('onDragStart', data);\r\n    };\r\n\r\n    onDragUpdate = data => {\r\n        // console.log('onDragUpdate', data);\r\n    };\r\n\r\n    onDragEnd = data => {\r\n        // console.log('onDragEnd v1')\r\n        const { source, destination } = data;\r\n     \r\n        if (!destination) {\r\n            return;\r\n        }\r\n\r\n        // Copy the state to be changed.  (Inefficient but OK when source === distination)\r\n        const draggedFromId = source.droppableId;\r\n        const draggedToId = destination.droppableId;\r\n\r\n        const oldDragFrom = this.state[draggedFromId];\r\n        const oldDragTo = this.state[draggedToId];\r\n\r\n        let draggedFrom = oldDragFrom.copy();\r\n        let draggedTo = oldDragTo.copy();\r\n\r\n        \r\n        let dragged = draggedFrom.removeAt(source.index);\r\n        if(!dragged) {\r\n            throw Error('Cannot find card to move during drag');\r\n        }\r\n\r\n        const draggedToIndex = draggedTo.accessTopCardOnly ? 0 :  destination.index;\r\n        draggedTo.addAt(draggedToIndex, dragged);\r\n\r\n\r\n        let stateChange = {}\r\n        stateChange[draggedFromId] = draggedFrom;\r\n        stateChange[draggedToId] = draggedTo;\r\n\r\n        const commonAreaStateChange = coreCommonArea.processDragStateChange(stateChange);\r\n\r\n        this.setState({...stateChange, ...commonAreaStateChange});\r\n    }\r\n\r\n    render() {\r\n\r\n\r\n        return (\r\n            <DragDropContext \r\n                onBeforeCapture={this.onBeforeCapture}\r\n                onBeforeDragStart={this.onBeforeDragStart}\r\n                onDragStart={this.onDragStart}\r\n                onDragUpdate={this.onDragUpdate}\r\n  \r\n                onDragEnd={this.onDragEnd}\r\n            >\r\n                <div className=\"game\"> \r\n                    <CardSet coreCardSet={this.state.player1} />\r\n                    <CardSet coreCardSet={this.state.available} />\r\n\r\n                    <CommonArea coreCommonArea={coreCommonArea} gameState={this.state} />\r\n             \r\n                    <CardSet coreCardSet={this.state.player2} />\r\n                </div>\r\n            </DragDropContext>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Game;\r\n","import './main.css';\r\nimport React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport Game from './game';\r\n\r\nclass App extends React.Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    console.log(\"App constructor\");\r\n  }\r\n  \r\n  render() {\r\n\r\n    return (\r\n      <React.StrictMode>\r\n          <Game />\r\n      </React.StrictMode>\r\n    );\r\n  } \r\n}\r\n\r\nReactDOM.render(<App />, document.getElementById(\"root\"));\r\n\r\n"],"sourceRoot":""}